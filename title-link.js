import{d as n,j as c,aU as p,ai as i,h as e,c as s,x as h,A as u,I as g,aX as k,aY as x}from"./vendor.js";import{R as v,g as w,u as m,U as f,W as y}from"./index.js";const L={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},T=i("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[i("path",{d:"M11 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-5"}),i("path",{d:"M10 14L20 4"}),i("path",{d:"M15 4h5v5"})],-1);var S=n({name:"ExternalLink",render:function(a,r){return c(),p("svg",L,[T])}});const _=n({setup(){return()=>e("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24"},e("path",{d:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5z",fill:"currentColor"}))}}),C=n({props:{id:{type:String,required:!0}},setup(t){const r=v.endpoint+"/markdown/render/"+t.id+"?token=bearer%20"+w();return()=>e("iframe",{src:r,class:"max-w-full w-[60ch] h-[60vh]"})}}),E=n({props:{inPageTo:{type:String,required:!0},title:{type:String,required:!0},externalLinkTo:{type:String,required:!1},id:{type:String,required:!1}},setup(t,{slots:a}){const{viewport:r}=m(f),d=s(()=>r.value.widest||r.value.wider),l=s(()=>{if(!t.externalLinkTo)return null;try{return new URL(t.externalLinkTo,t.externalLinkTo.startsWith("/")?y:void 0).toString()}catch{return null}});return()=>e(x,{to:t.inPageTo,class:"flex items-center space-x-2"},e(k,{lineClamp:2,tooltip:{width:500}},t.title),a.default?.(),l.value&&e(u,{text:!0,tag:"a",style:{cursor:"alias"},href:l.value,target:"_blank",type:"primary",onClick:o=>o.stopPropagation()},e(g,null,e(S,null))),t.id&&d.value&&e(h,{placement:"right"},{default(){return t.id&&e(C,{id:t.id})},trigger(){return e(u,{text:!0,type:"primary"},e(_,null))}}))}});export{E as T};
